---
layout:     post
title:      常用工具类函数整理
subtitle:   H.T. Blog 知识点整理持续更新...
date:       2019-10-10
author:     haotian
header-img: img/post-bg-universe.jpg
catalog: true
tags:
    - 常用工具类函数整理
---

## 文章目录
1. 常用工具类函数目录

### 1. call模拟方式：
```js
function fnFactory( context ) {
    var unique_fn = “fn”;
    while ( context.hasOwnProperty( unique_fn ) ) {
        unique_fn = ‘fn’ + Math.random()
    }
    return unique_fn;
}

Function.prototype.call = function (context) {
    context = context ? Object(context) : window;
    var fn = fnFactory( context ) 或者 var fn = Symbol()
    context[ fn ] = this;

    ES5方式：
    var args = [];
    for (var i = 1, len = arguments.length; i < len; i++) {
        args.push(‘arguments[’ + i + ‘]’)
    }
    var result = eval(‘context[fn](‘ + args + ‘)’);

    ES6方式：
    var args = [...arguments].slice(1);
    var result = context[fn](...args)

    delete context[fn]
    return result
}
```
## 2. apply模拟方式：
```js
function fnFactory( context ) {
    var unique_fn = “fn”;
    while ( context.hasOwnProperty( unique_fn ) ) {
        unique_fn = ‘fn’ + Math.random()
    }
    return unique_fn;
}

Function.prototype.apply = function (context, arr) {
    context = context ? Object(context) : window;
    var fn = fnFactory( context ) 或者 var fn = Symbol()
    context[ fn ] = this;

    ES5方式：
    var result;
    If ( !arr ) {
        return context[fn]() 
    } else {
        var args = [];
        for (var i = 0, len = arr.length; i < len; i++){
            args.push(‘arr[‘ + i + ‘]’); 
        }
        result = eval(‘context[fn](‘+ args +’)’) 
    }

    ES6方式：
    var result；
    if ( !arr ) {
        return context[fn]()
    } else {
        result = context[fn](...arr)
    }

    delete context[fn]
    return result; 
}
```
## 3. 模拟实现bind
```js
Function.prototype.bind1 = function(context) {
    if(typeof this !== “function” ) {
        Throw new Error(“bbbbbbbb”)
    }
    var self = this;
    var args = Array.prototype.slice.call(arguments, 1)

    var fNOP = function () {}
    var fBound = function () {
        var bindArgs = Array.prototype.slice.call(arguments);
        return self.apply( this instanceof fNOP ? this : context, args.concat(bindArgs)
    }
    fNOP.prototype = this.prototype;
    fBound.prototype = new fNOP();

    return fBound;
}

```